<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ServiApp - Cortes</title>
  <link rel="shortcut icon" href="img/logo-serviapp.png" />
  
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Iconos Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <!-- Fuente Kanit -->
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
 

  <link rel="stylesheet" href="/estilos_interfaz-usuario/style_cortes_fallas.css">
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-left">
      <button class="toggle-btn" onclick="toggleSidebar()">
        <i class="bi bi-list"></i>
      </button>
      <div class="header-logo">
        <img src="/img_local/logo-pagina-serviapp.png" alt="ServiApp" class="header-logo-img">
        <h1 class="header-title">ServiApp</h1>
      </div>
    </div>
    
    <div class="profile-menu">
      <button class="profile-button" id="profileButton">
        <img src="https://img.freepik.com/vector-premium/icono-perfil-usuario-estilo-plano-ilustracion-vector-avatar-miembro-sobre-fondo-aislado-concepto-negocio-signo-permiso-humano_157943-15752.jpg" alt="Avatar" class="profile-avatar">
      </button>
      <div class="profile-dropdown" id="profileDropdown">
        <a href="datos-personales">Configuración</a>
        <a href="/">Cerrar Sesion</a>
      </div>
    </div>
  </header>

  <!-- Sidebar -->
  <div class="sidebar" id="sidebar">
    <a href="interfaz_inicio"><i class="bi bi-house-door-fill"></i>Inicio</a>
    <a href="registrar_servicio"><i class="bi bi-check-square"></i>Registrar Servicio</a>
    <a href="gestionar-servicio"><i class="bi bi-bar-chart-line"></i>Gestionar Servicio</a>
    <a href="consejos-personzalidos"><i class="bi bi-lightbulb"></i>Consejos de Ahorro</a>
    <a href="cortes"><i class="bi bi-clock-history"></i>Cortes</a>
    <a href="lineas-atencion"><i class="bi bi-telephone-forward"></i>Líneas de Atención</a>
  </div>


  <!-- Contenido principal -->
  <main id="content">
    <div class="Cortes">
      <h1>Cortes Programados</h1>
      <h2>Mantente informado aqui los cortes programados que hay en la ciudad en cartagena en las proximas fechas</h2>
    </div>
    <div class="table-container">
      <table id="tablaCortes" class="display" style="width:100%">
          <thead>
              <tr>
                  <th>Servicio</th>
                  <th>Barrios</th>
                  <th>Fecha de corte</th>
                  <th>Hora de inicio</th>
                  <th>Hora de finalización</th>
              </tr>
          </thead>
          <tbody>
              <tr th:each="corte : ${cortes}">
                  <td th:text="${corte.tipo_servicio}"></td> 
                  <td th:text="${#strings.arrayJoin(corte.barrios.split(','), ', ')}"></td>
                  <td th:text="${corte.fecha}"></td>
                  <td th:text="${corte.hora_inicio}"></td>
                  <td th:text="${corte.hora_final}"></td>
              </tr>
          </tbody>
      </table>
    </div>

    <div class="reportes">
      <h1> Reportar fallos</h1>
      <h2>Aqui podras reportar fallos si estos no estan en la tabla de cortes programados</h2>

      <form action="/reportar-falla" method="POST">
        <div class="form-section">
          <label for="servicio">Servicio afectado</label>
          <select id="servicio" name="servicio" required>
              <option value="" disabled selected>Servicio afectado</option>
              <option value="agua">Agua</option>
              <option value="energia">Energía</option>
              <option value="gas">Gas</option>
          </select>

          <label for="barrio">Barrio afectado</label>
          <select id="barrio" name="barrio" required>
              <option value="" disabled selected>Barrio afectado</option>
              <option value="la victoria">La Victoria</option>
              <option value="la esperanza">La Esperanza</option>
              <option value="plan 400">Plan 400</option>
              <option value="alcibia">Alcibia</option>
              <option value="boston">Boston</option>
              <option value="la candelaria">La Candelaria</option>
              <option value="la maria">La María</option>
              <option value="la quinta">La Quinta</option>
              <option value="chiquinquira">Chiquinquirá</option>
              <option value="olaya st central">Olaya St. Central</option>
              <option value="olaya st 11 de noviembre">Olaya St. 11 De Noviembre</option>
              <option value="olaya villa olimpica">Olaya Villa Olímpica</option>
              <option value="republica del libano">República Del Líbano</option>
              <option value="el pozon">El Pozón</option>
              <option value="la india">La India</option>
              <option value="nuevo paraiso">Nuevo Paraíso</option>
              <option value="la floresta">La Floresta</option>
              <option value="las gaviotas">Las Gaviotas</option>
              <option value="las palmeras">Las Palmeras</option>
              <option value="los alpes">Los Alpes</option>
              <option value="nuevo porvenir">Nuevo Porvenir</option>
              <option value="republica de venezuela">República de Venezuela</option>
              <option value="san antonio">San Antonio</option>
              <option value="san jose">San José</option>
              <option value="trece de junio">Trece de Junio</option>
              <option value="viejo porvenir">Viejo Porvenir</option>
              <option value="la victoria">La Victoria</option>
          </select>

          <label for="horaInicio">Hora aproximada de inicio de la falla:</label>
          <input type="time" step="300" id="horaInicio" name="horaInicio" required aria-placeholder="Hora aproximada de inicio de la falla:">

          <label for="comentario">Escribe tu comentario aquí:</label>
          <textarea id="comentarios" name="comentarios" rows="4" cols="50" placeholder="Escribe tu comentario aquí"></textarea>

          <button type="submit">Reportar</button>
        </div>
      </form>
    </div>
  </main>

  <!-- Pie de página -->
  <footer>
    <div class="contenido-pie-pagina">
        <img src="/img_local/logo-pagina-serviapp.png" alt="Logo" class="footer-logo">
        <span>© 2024 ServiApp / todos los derechos reservados</span>
        <ul class="enlaces-pie-pagina">
            <li><a href="#" id="openModal-privacidad">Privacidad</a></li>
        </ul>
    </div>
    <div class="nota-pie-pagina">
        <a href="">No compartir información</a>
    </div>
  </footer>
  
  <!-- ventana privacidasd -->
  <div id="termsModal-privacidad" class="modal-privacidad">
      <div class="modal-content-privacidad">
          <span class="cerrar-privacidad">&times;</span>
          <h2>PRIVACIDAD</h2>
              <p>
          En ServiApp somos conscientes de la importancia de la privacidad y protección de los datos personales de nuestros usuarios. Por esta razón, nuestro deber con la seguridad de la información de nuestros usuarios está fundamentado en este marco legal que respalda todos nuestros procesos.<br><br>
          
          Las normas internacionales ofrecen un marco general para el tratamiento adecuado de la información de los usuarios. Aunque estas normativas no siempre tienen aplicación directa en Colombia, representan normativas que en ServiApp tratamos de cumplir para proteger la privacidad de nuestros usuarios. El convenio 108 del Consejo de Europa, por ejemplo, es una referencia clave que establece principios básicos sobre la protección de los datos personales frente a su tratamiento automatizado. El Reglamento General de Protección de Datos (GDPR) de la Unión Europea es un referente mundial en términos de la protección de la privacidad y, a pesar de que está dirigido a ciudadanos europeos, se puede considerar un modelo a seguir. De igual forma, los principios de los Derechos Humanos de las Naciones Unidas establecen la importancia de respetar la privacidad como un derecho humano.<br><br>
          
          En Colombia, el marco legal se consolida a partir de la Constitución Política Nacional, en la cual el artículo 15 nos expone sobre el derecho a la intimidad y protección de datos personales. En ServiApp, nos aseguramos de que nuestros usuarios puedan ejercer este derecho, permitiéndoles acceder y actualizar su información almacenada en nuestra base de datos cuando lo requieran. También nos basamos en el artículo 20, el cual protege el derecho a recibir información clara y veraz. Para nosotros, esto significa que todo lo relacionado con el tratamiento de datos será siempre transparente y comprensible.<br><br>
          
          La Ley 1581 de 2012, conocida como la Ley de Protección de Datos Personales, es la ley central de nuestra operación en Colombia. Esta ley establece los principios y procedimientos que debemos seguir al manejar los datos de nuestros usuarios, asegurando su privacidad y estableciendo obligaciones claras para nosotros como responsables de esa información. De igual forma, seguiremos la Ley 1266 de 2008, que regula específicamente el manejo de información financiera y crediticia, y la Ley 1273 de 2009, que tipifica los delitos informáticos y define las sanciones aplicables para quienes accedan sin autorización a sistemas informáticos, algo esencial para la seguridad de los datos que manejaremos en nuestra plataforma.<br><br>
          
          Además de estas leyes, ServiApp sigue las regulaciones emitidas a través de decretos. Por ejemplo, el Decreto 1377 de 2013 es importante, pues nos explica cómo debemos obtener el consentimiento de nuestros usuarios para poder recolectar y usar sus datos. En cada registro debemos asegurarnos de que los usuarios tengan claro para qué fines se usará su información. Por otro lado, el Decreto 886 de 2014, que aborda temas de ciberseguridad, nos ayuda a implementar medidas de protección adecuadas para evitar riesgos de seguridad.<br><br>
          
          Para las regulaciones a nivel local en la ciudad de Cartagena, cumplimos con los acuerdos municipales y ordenanzas locales que pueden influir en la manera en que gestionamos los servicios públicos y la información asociada.<br><br>
          
          El Código Penal Colombiano también es importante, ya que establece sanciones para quienes cometan delitos informáticos, como la violación de la privacidad o el uso indebido de los datos personales. En ServiApp seguimos estos lineamientos para prevenir cualquier incidente que pudiera comprometer la seguridad de la información.<br><br>
          
          Finalmente, aplicamos lo que establecen las resoluciones y circulares emitidas por organismos de control. La Resolución 002 de 2021 de la Superintendencia de Industria y Comercio (SIC) nos ofrece guías claras sobre cómo gestionar los datos personales en nuestro contexto tecnológico, mientras que la Circular Externa 005 de 2017 nos orienta sobre cómo manejar la información en sistemas digitales, garantizando que estemos al día con las mejores prácticas.
              </p>
      </div>
  </div>
  
  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const content = document.getElementById('content');
      const footer = document.querySelector('footer');
      
      sidebar.classList.toggle('open');
      content.classList.toggle('sidebar-open');
      footer.classList.toggle('sidebar-open');
    }

    // Profile dropdown functionality
    document.addEventListener('DOMContentLoaded', function() {
      const profileButton = document.getElementById('profileButton');
      const profileDropdown = document.getElementById('profileDropdown');
      
      profileButton.addEventListener('click', function() {
        profileDropdown.style.display = profileDropdown.style.display === 'block' ? 'none' : 'block';
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', function(event) {
        if (!profileButton.contains(event.target) && !profileDropdown.contains(event.target)) {
          profileDropdown.style.display = 'none';
        }
      });
      
      // Modal functionality
      const modal = document.getElementById('termsModal-privacidad');
      const btn = document.getElementById('openModal-privacidad');
      const span = document.getElementsByClassName('cerrar-privacidad')[0];
      
      btn.onclick = function() {
        modal.style.display = "block";
      }
      
      span.onclick = function() {
        modal.style.display = "none";
      }
      
      window.onclick = function(event) {
        if (event.target == modal) {
          modal.style.display = "none";
        }
      }
      
      // Close sidebar when clicking outside on mobile
      document.addEventListener('click', function(event) {
        const sidebar = document.getElementById('sidebar');
        const toggleBtn = document.querySelector('.toggle-btn');
        
        if (window.innerWidth <= 768 && 
            !sidebar.contains(event.target) && 
            !toggleBtn.contains(event.target) && 
            sidebar.classList.contains('open')) {
          toggleSidebar();
        }
      });
    });
  </script>
</body>
</html>